import{i as k,u as h,a as y,b as C,r as u,c as s,o as V,d as B,w as n,e as a,f as S,g as U}from"./index-e5d93ad7.js";const D=S("div",{class:"text-white text-h5 text-weight-bold text-left"},"Inicia Sesi칩n",-1),N={__name:"Login",setup(I){const c=k("$swal"),p=h(),_=y(),f=C(),r=u(!0),l=u(""),i=u(""),g=()=>{U.post("/usuarios/login",{email:l.value.toUpperCase(),password:i.value}).then(t=>{_.getToken(t.data.token),localStorage.setItem("token",JSON.stringify(t.data.token)),f.getUsuarioLogin(t.data.usuario),localStorage.setItem("usuario",JSON.stringify(t.data.usuario)),p.push("/home")}).catch(t=>{t.response.data.errores?c.fire({icon:"error",title:t.response.data.errores.errors[0].msg,showConfirmButton:!1,timer:1500}):c.fire({icon:"error",title:t.response.data.msg,showConfirmButton:!1,timer:1500})})};return(t,o)=>{const d=s("q-card-section"),b=s("q-separator"),m=s("q-input"),x=s("q-icon"),v=s("q-btn"),w=s("q-card"),q=s("q-page");return V(),B(q,{class:"flex flex-center",style:{"background-image":"url(https://images.unsplash.com/photo-1464618663641-bbdd760ae84a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80)"}},{default:n(()=>[a(w,{class:"shadow-2 my_card bg-white",dark:"",bordered:""},{default:n(()=>[a(d,{class:"text-center bg-black"},{default:n(()=>[D]),_:1}),a(b),a(d,{class:"text-right"},{default:n(()=>[a(m,{class:"q-mt-sm",rounded:"",outlined:"",modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=e=>l.value=e),label:"Correo electronico","lazy-rules":"",rules:[e=>e&&e.length>0||"Porfavor ingresa tu correo"]},null,8,["modelValue","rules"]),a(m,{rounded:"",outlined:"",class:"q-mt-sm",modelValue:i.value,"onUpdate:modelValue":o[2]||(o[2]=e=>i.value=e),label:"Contrase침a",type:r.value?"password":"text",rules:[e=>e!==null&&e!==""||"Por favor ingresa tu contrase침a",e=>e.length>7||"La contrase침a debe tener mas de 7 caracteres"]},{append:n(()=>[a(x,{name:r.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:o[1]||(o[1]=e=>r.value=!r.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),a(v,{color:"black",rounded:"",size:"lg",label:"Ingresar","no-caps":"",onClick:o[3]||(o[3]=e=>g())})]),_:1})]),_:1})]),_:1})}}};export{N as default};
