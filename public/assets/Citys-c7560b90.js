import{u as $}from"./getCitys-9f3fe661.js";import{i as z,r,j as h,c as a,o as j,d as T,w as t,e as o,f,h as A}from"./index-e4cc669c.js";const G={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 q-pa-sm"},M={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 q-pa-sm"},E={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 q-pa-sm"},F={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 q-pa-sm"},K={__name:"Citys",setup(H){const b=z("$swal"),g=r([]),V=[{name:"coddepartamento",label:"Código Departamento",align:"left",field:"coddepartamento",sortable:!0},{name:"departamento",label:"Departamento",align:"left",field:"departamento"},{name:"codciudad",label:"Código Ciudad",align:"left",field:"codciudad",sortable:!0},{name:"ciudad",label:"Ciudad",align:"left",field:"ciudad"}],v=r(""),w={rowsPerPage:10},u=$();h(async()=>{await u.getData(),g.value=u.citys.value});const n=r(!1),i=r(""),c=r(""),m=r(""),p=r(""),y=async(_,l,d,q)=>{const s=await u.crearCiudadPost(_,l,d,q);s.msg?(n.value=!1,b.fire({icon:"success",title:s.msg,showConfirmButton:!1,timer:1500}),C(),await u.getData(),g.value=u.citys.value):(n.value=!1,b.fire({position:"top-end",icon:"error",title:s.response.data.errores.errors[0].msg,showConfirmButton:!1,timer:1500}),setTimeout(()=>{n.value=!0},1500))},C=()=>{i.value="",c.value="",m.value="",p.value="",n.value=!1};return(_,l)=>{const d=a("q-input"),q=a("q-card-section"),s=a("q-btn"),x=a("q-card-actions"),P=a("q-card"),k=a("q-dialog"),B=a("q-tooltip"),D=a("q-icon"),U=a("q-table"),N=a("q-page");return j(),T(N,{class:"q-pa-xl text-center"},{default:t(()=>[o(k,{modelValue:n.value,"onUpdate:modelValue":l[6]||(l[6]=e=>n.value=e),persistent:"","transition-show":"rotate","transition-hide":"rotate"},{default:t(()=>[o(P,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[o(q,{class:"row"},{default:t(()=>[f("div",G,[o(d,{rounded:"",outlined:"",modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=e=>i.value=e),label:"Nombre del departamento*","lazy-rules":"",rules:[e=>e&&e.length>0||"Porfavor ingresa el nombre del departamento"]},null,8,["modelValue","rules"])]),f("div",M,[o(d,{rounded:"",outlined:"",modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=e=>c.value=e),type:"number",label:"Código del departamento*","lazy-rules":"",rules:[e=>e&&e.length>0||"Porfavor ingresa el código del departamento"]},null,8,["modelValue","rules"])]),f("div",E,[o(d,{rounded:"",outlined:"",modelValue:m.value,"onUpdate:modelValue":l[2]||(l[2]=e=>m.value=e),label:"Nombre de la ciudad*","lazy-rules":"",rules:[e=>e&&e.length>0||"Porfavor ingresa el nombre de la ciudad"]},null,8,["modelValue","rules"])]),f("div",F,[o(d,{rounded:"",outlined:"",modelValue:p.value,"onUpdate:modelValue":l[3]||(l[3]=e=>p.value=e),type:"number",label:"Código de la ciudad*","lazy-rules":"",rules:[e=>e&&e.length>0||"Porfavor ingresa el código de la ciudad"]},null,8,["modelValue","rules"])])]),_:1}),o(x,{align:"right"},{default:t(()=>[o(s,{rounded:"",outline:"",label:"Cancerlar",color:"red",onClick:l[4]||(l[4]=e=>C())}),o(s,{rounded:"",outline:"",label:"Aceptar",color:"green",onClick:l[5]||(l[5]=e=>y(i.value,c.value,m.value,p.value))})]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(s,{rounded:"",color:"green",class:"q-mb-md",icon:"add_circle",label:"Crea una ciudad",onClick:l[7]||(l[7]=e=>n.value=!0)},{default:t(()=>[o(B,null,{default:t(()=>[A("Crear Ciudad")]),_:1})]),_:1}),o(U,{grid:_.$q.screen.xs,flat:"",bordered:"",title:"Ciudades",pagination:w,filter:v.value,rows:g.value,columns:V,"row-key":"name"},{"top-right":t(()=>[o(d,{color:"black",modelValue:v.value,"onUpdate:modelValue":l[8]||(l[8]=e=>v.value=e),placeholder:"Buscar"},{append:t(()=>[o(D,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["grid","filter","rows"])]),_:1})}}};export{K as default};
